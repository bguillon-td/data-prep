<div class="quality-bar">
    <div talend-dropdown
         class="record-ok"
         ng-style="{width: dgQualityBarCtrl.width.valid + '%'}"
         ng-class="{'no-transition' : dgQualityBarCtrl.blockTransition}"
         ng-if="dgQualityBarCtrl.quality.valid > 0"
         title="{{ dgQualityBarCtrl.quality.valid }} {{::'VALID_RECORDS' | translate}} ({{ dgQualityBarCtrl.percent.valid }}%)">

        <div class="dropdown-container">
            <div class="dropdown-action quality-bar-action"></div>
            <ul class="dropdown-menu dropdown-menu-small-top quality-bar-menu" role="menu">
                <li ng-click="dgQualityBarCtrl.filterValidRecords(dgQualityBarCtrl.column)">
                    <a><span translate-once="SELECT_VALID_RECORDS"></span> {{ dgQualityBarCtrl.column.name | uppercase }}</a>
                </li>
            </ul>
        </div>
    </div>

    <div talend-dropdown
         class="record-empty"
         ng-style="{width: dgQualityBarCtrl.width.empty + '%'}"
         ng-class="{'no-transition' : dgQualityBarCtrl.blockTransition}"
         ng-if="dgQualityBarCtrl.quality.empty > 0"
         title="{{ dgQualityBarCtrl.quality.empty }} {{::'EMPTY_RECORDS' | translate}} ({{ dgQualityBarCtrl.percent.empty }}%)">

        <div class="dropdown-container">
            <div class="dropdown-action quality-bar-action"></div>
            <ul class="dropdown-menu dropdown-menu-small-top quality-bar-menu" role="menu" >
                <li ng-click="dgQualityBarCtrl.filterEmptyRecords(dgQualityBarCtrl.column)">
                    <a><span translate-once="SELECT_EMPTY_RECORDS"></span> {{ dgQualityBarCtrl.column.name | uppercase
                        }}</a>
                </li>
                <li class="divider"></li>
                <li class="coming-soon"><a><span translate-once="FILL_EMPTY_WITH_TOP_VALUE"></span></a></li>
                <li class="coming-soon"><a><span translate-once="FILL_EMPTY_WITH_BOTTOM_VALUE"></span></a></li>

                <li ng-repeat="transfo in dgQualityBarCtrl.transformationsForEmptyCells" ng-click="dgQualityBarCtrl.applyActionOnColumn(transfo)">
                    <a>{{transfo.label}}</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="record-nok" talend-dropdown
         ng-style="{width: dgQualityBarCtrl.width.invalid + '%'}"
         ng-class="{'no-transition' : dgQualityBarCtrl.blockTransition}"
         ng-if="dgQualityBarCtrl.quality.invalid > 0"
         title="{{ dgQualityBarCtrl.quality.invalid }} {{::'INVALID_RECORDS' | translate}} ({{ dgQualityBarCtrl.percent.invalid }}%)">

        <div class="dropdown-container">
            <div class="dropdown-action quality-bar-action"></div>
            <ul class="dropdown-menu dropdown-menu-small-top quality-bar-menu" role="menu" >
                <li ng-click="dgQualityBarCtrl.filterInvalidRecords(dgQualityBarCtrl.column)">
                    <a><span translate-once="SELECT_INVALID_RECORDS"></span> {{ dgQualityBarCtrl.column.name | uppercase}}</a>
                </li>
                <li class="divider"></li>
                <li class="coming-soon"><a><span translate-once="REPLACE_INVALID_WITH_TOP_VALUE"></span></a></li>
                <li class="coming-soon"><a><span translate-once="REPLACE_INVALID_WITH_BOTTOM_VALUE"></span></a></li>

                <li ng-repeat="transfo in dgQualityBarCtrl.transformationsForInvalidCells" ng-click="dgQualityBarCtrl.applyActionOnColumn(transfo)">
                    <a>{{transfo.label}}</a>
                </li>
            </ul>
        </div>
    </div>
</div>
